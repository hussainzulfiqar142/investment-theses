**为什么我们投资 LayerZero Labs**
=====================================

非理财建议。

一个多链、多层的未来
=================================

在过去的几年里，区块链技术的采用一直在稳步增长。以应用最广泛的区块链--以太坊为例：谷歌搜索关键词“以太坊”的搜索量在 2021 年 5 月达到顶峰，与以太坊网络上创纪录的每日165万笔交易相吻合。同时，由于以太坊上的网络参与者争夺有限的区块空间，以太坊上每笔交易的平均费用飙升至近 70 美元。这是因为在目前的状态下，以太坊每秒只能支持 15-45 笔交易，用户通过支付更高的费用来激励矿工优先处理他们的交易。这使得绝大多数散户无法仅为处理一笔交易就支付高得离谱的费用。此外，对于众多低价值、高吞吐量的用例而言，选择 Etherum 显得越来越不切实际。

![](https://miro.medium.com/max/1400/1*D-KZobO9XLkEpv1dZ_N95g.png)
> 资料来源：[The Block Crypto](https://www.theblockcrypto.com/data/on-chain-metrics/ethereum)

![](https://miro.medium.com/max/1400/1*4O9NxHIX5jMdmV-x3g6xdg.png)
> 资料来源：[Coin Metrics](https://charts.coinmetrics.io/network-data/)

不出所料，各类第一层 (L1) 区块链和第二层 (L2) 扩展解决方案正逐渐取而代之，以服务于这个由边缘散户投资者和用例组成的庞大市场。自 2021 年初以来，以太坊的主导地位（就总锁定价值 TVL 而言）已从 90% 下降到 65%。这与 2021 年 4 月币安智能链（BSC）的普及有关。BSC 的交易费更低，每笔交易大约仅需 1-2 美元（尽管以去中心化为代价）。

从那时起，很多 L1 和 L2 项目陆续问世，想要从以太坊分一杯羹，通常通过流动性挖矿或空投为桥接其资产的用户提供慷慨的激励计划。

![](https://miro.medium.com/max/1400/1*IYez4MRumr9AEiwicMQpzg.png)
> 资料来源：[DeFi Llama](https://defillama.com/chains)

这些 L1 或 L2 中的每个项目都寻求贡献自己的优势，主要是保证提供更低的交易费用、更高的 TPS 或更适合散户的操作体验。他们还可能寻求适应不同的用例，支持协议存在于自己的平行链上，或承诺提供高保真数据或高性能区块链，以与处理超过 15,000 TPS 的 Visa 等现实世界的现有企业竞争。目前来看，多链多层未来的可能性似乎相当大。以太坊很有可能保持其“山头之王”的统治地位，成为经受过最多战斗考验的公链，并且通过以太坊 2.0 解决可扩展性问题。而像 Polygon、Solana 和 Polkadot 等区块链也都在开发者社区中获得了巨大的关注，并且很可能会根据各自的使用情况而相互共存。

此外，协议已经开始在不同的区块链上对其应用程序的不同方面进行模块化。例如，一个游戏可能需要一个非常高 TPS 的区块链来支持游戏中的动作，同时利用一个高安全性、低吞吐量的区块链来交易有价值的游戏内资产。

**跨链架构和跨连桥之入门篇**
================================================

这种多链多层的未来愿景带来了对跨链基础设施的需求，以弥合各种区块链和跨扩展解决方案之间的差距。于是会有一系列独特的问题出现，这些问题阻碍或破坏了去中心化公链的核心目标。

当前问题
----------------

**1\.中心化**

**使用中心化交易所作为资产跨链桥**

当用户将资产从一条链桥接到另一条链时，他们经常会使用中心化交易所 (CEX) 作为中介层，以便将资产桥接到他们的目标链。虽然对于某些用户来说，这似乎是一种方便的方法，但实际上，他们在获得便利的同时，在以下方面付出了更大的代价：

*   **缺乏隐私和匿名性**—CEX 需要 KYC，对于许多希望保护隐私的用户来说，此选项可能不可行。
*   **监管风险**—CEX 曾多次出于监管原因阻止用户进入某些司法管辖区或禁止提取/交易某些资产。
*   **交易对手风险**—用户必须信任 CEX 对他们资产的托管。正如俗语所说：“保护好私钥才能掌控自己的代币”。

**使用非去中心化的跨链桥**

当前存在多个跨链桥供用户在桥接他们的资产时选择。其中一些选项将利用一个不完全去中心化的中间共识层。要么是因为验证者已获得许可（验证者的数量非常少），要么是跨链桥由多重签名保护。这是非常不安全的，因为目标链隐含地信任中间链，中间链对目标链具有完整的签名权限。这意味着中间链上的任何黑客攻击都有可能耗尽锁定在目标链池中的所有流动性资产。此外，中间共识层可能是不必要的资源或造成成本密集，因为它增加了多余的开销。

**2.缺乏可组合性**

**合成中间代币的使用**

一些跨链桥将使用中间代币来解决分散的流动性问题或实现去信任化。这种中间代币增加了不必要的开销和复杂性，尤其是当用户在发生错误或目标链上流动性不足时最终获得中间代币时。这不仅会导致糟糕的用户体验，而且可能会给用户留下一个不可组合的无用代币，很少有协议会接受 abcUSD。用户需要等待 abcUSD-USD 池中的流动性得到补充，然后才能继续操作。

这里额外的低效率是锁定在 abcUSD - USD 池中的流动性，如果一开始就使用原生代币，这完全是不必要的。此外，许多跨链桥将为他们支持的每条链提供一个流动性池，这实质上是在每一条额外的链条上重复同样低效的流动性需求。

**有限的可组合性**

目前，当协议考虑在哪个协议之上构建或与哪个协议集成时，它们通常会将其范围限制在构建在相同区块链或相同生态系统中的其他 dapp 上。然而，如果协议可以与所有区块链上的去中心化应用和智能合约组合在一起，那么就没有必要把自己限制在一个单一的生态系统范围内。

**3.低效且高成本**

**链上节点的使用**

克服上述第 1 点和第 2 点的解决方案是使用链上节点，这些节点按顺序接收和验证从源链到目标链的每个区块头，并针对每个转发的交易证明进行验证。然而，这种方法对于大多数区块链来说是不可行的，因为运行这样一个系统需要大量的计算资源和费用。

**低效的当前用户流**

目前，如果用户考虑在不同的区块链上使用不同的协议，他们必须经过一个繁琐的流程，包括代币批准、划转和桥接交易，才能将资产转移到新链。这个过程可能涉及大量不同的代币地址、Web 应用程序和跨链桥，所以每个节点都容易出错。对于新用户来说，效率低下的用户流可能代价高昂，而且会非常混乱。

了解了当前跨链架构面临的诸多问题后，我们接下来将进一步介绍 LayerZero 以及它如何解决这些现有问题。

LayerZero Labs
==============

LayerZero 的核心是一个全链 (omnichain) 互操作协议。可以将其视为连接每个给定链上的任何给定合约的关键基础设施层。它是关键的消息传递原语，赋予了跨链可组合性和功能的全新维度。

**解决方案**
----------------

首先，我们必须深入研究使 LayerZero 能够实现这一目标的设计。

为了验证链上的区块，我们需要**两种**信息：

1.  **区块头**，包含收据根
2.  **交易证明** —也就是 EVM 上的 Merkel-Patricia 证明

LayerZero 通过以下方式拆分这两个组件：

1.  一个**预言机**转发区块头，任何被选择的预言机（例如，Chainlink、Pyth）
2.  **中继器**转发交易证明

预言机和中继器都是 100% 开放且无需许可的，任何人都可以充当其中任何一个角色。

假设这两个实体是独立的，并且区块头及其相应的交易证明的组合在目标链上得到验证，则可以保证转发的消息是有效的并且已经在源链上提交。

在这里，我们必须注意两个重要的安全属性。首先，该系统最坏情况下的安全性相当于所选预言机的安全性。如果预言机和中继器是同一实体，则会出现这种情况下。在这种情况下，我们继承预言机的基础安全性，例如由 Chainlink 的去中心化预言机网络建立的共识机制。其次，协议可以选择甚至运行自己的中继器来获取给定交易的证明。这意味着协议本身可以保证预言机和中继器是独立的实体。

这概述了**无需信任的有效交付**的设计，完全不需要任何潜在的中心化中间实体或代币。

**协议的权力**
-------------------------

LayerZero 的另一个核心功能是应用程序本身可以完全控制所有安全参数。每个协议都能够准确指定他们想要使用的预言机和中继器。该实现也将是足够模块化的，因此协议可以选择一个由几个查询最优价格聚合而成的预言机，或者甚至利用来自多个预言机的三分之二的共识。此外，协议还可以选择指定它们需要从源链中获得的确认次数。

LayerZero 的主要优势
=========================

**孤立的风险基础设施**
------------------------------

现有的跨链基础设施依赖特定实体来验证交易或跨链传输消息。在最近的漏洞利用中，一个常见的故障点是中继器被盗用或遭受恶意攻击。一些跨链设计隐含地相信来自中继网络的任何消息都是有效的。攻击者可以利用此漏洞潜入整个流动资金池，最后导致重大资金损失。这给整个生态系统带来了巨大的“系统性风险”，任何带来额外流动性的协议都会为任何潜在的共识失败或利用增加更多资本风险。

根据 LayerZero 的设计，预言机和中继器未经许可即可使用，这样一来协议可以自主独立选择，从而实现了将协议及其用户承担的风险隔离开来的优势。由于攻击必须由特定的预言机和特定的中继器对共同执行，因此任何其他没有完全相同的预言机-中继器对的协议都不会受到影响。这有效地将任何生态系统承担的风险分割成更细的“应用特定风险”。在安全性方面是一个很大的进步，因为任何黑帽黑客只能攻击一小部分易受攻击的流动性，其余部分仍然是安全的。这种设计不仅大大提高了任何给定攻击的代价，还削减了攻击产生的利益。

**LayerZero 的效率**
---------------------------

如上所述，带有中间链层的跨链设计通常会附带额外的计算、共识和/或中间代币。这些既低效又不必要，而且增加了安全问题和吞吐量限制。LayerZero 试图尽可能降低额外的复杂性，同时保持信任最小化通信的安全性。

在 LayerZero 的简单设计中，中继器或预言机都没有形成任何共识或验证，它们只是简单地传输消息。由于所有验证都是在各自的源链和目标链上完成的，因此速度和吞吐量限制完全取决于两个交易链的属性。这也导致中心化验证或共识的抽象化。

**真正的跨链可组合性（不仅仅是资产转移）**
---------------------------------------------------------------------------

大多数跨链实现主要侧重于支持资产桥接。这是可以理解的，因为桥接代币可以说是最常见的用例。然而，有很多可能性可以通过跨链消息来解锁。

LayerZero 是一个通用的消息传递原语，意味着任何应用程序都可以将区块链 A 上的任何合约连接到区块链 B 上的任何其他合约。这为开发人员开辟了一个全新的设计空间，将他们对可组合性和兼容性的愿景扩展到原生区块链之外任何其他区块链。下面，我们将扩展两个例子，它们从根本上改变了用户和协议的可组合性体验。

**用户视角:** 多链货币市场聚合
----------------------------------------------------------

目前，当用户存入抵押品以借入资产时，他们被限制在其资产所在的区块链范围内。如果在任何其他链上的应用程序有更好的利率，或者如果他们想将借来的资产存入另一条链上的流动性池，他们必须使用资产跨链桥并在此过程中支付几笔交易费用。

使用 LayerZero，用户将他们的抵押品存入链 A 所需的应用程序上。向链 B 发送一条消息，验证抵押品是有序的，用户便可以借用链 B 上的原生资产，并将这些代币存入链 B 上的农场。用户完成收益耕作后，可以偿还从链 B 上借来的资产，并解锁存入链 A 的抵押品。用户体验简单而直观，所有与多个交换、桥接和中间代币有关的复杂性都被抽离了出来。

**协议视角**: 跨链治理
------------------------------------------------

我们已经看到多个蓝筹 DeFi 应用程序被部署到多个链上。这给治理带来了一个有趣的问题。由于协议的用户和代币持有者分散在多达 9-10 个不同的链上，因此治理过程可能非常繁琐。协议是否在最大的链上托管治理？还是对每条链进行单独的提案或投票？或者链下操作可能吗？

LayerZero 支持统一治理，允许每条链的用户和代币持有者通过简单的消息从他们所在的任何一条链本地投票。

首个应用：Stargate（资产跨链桥）
==========================================

随着 LayerZero 官方主网的发布，其已经构建了第一个应用程序 Stargate。该程序将利用 LayerZero 的跨链架构来展示其所开启的全新设计空间。

目前，每个 DEX/AMM 都会在每条新链上部署若干个相同的成对流动性池的副本。如果我们用这些副本乘以每条链上的大量 AMM，我们最终会得到一个非常低效且碎片化的系统。

Stargate 是真正可以解决这个问题的可组合资产跨链桥。它有 3 大主要功能：

1.  **原生资产**：这意味着不需要合成/中间代币，Stargate 将只提供用户想要的原生代币。这样一来，省去了中间代币和不必要的交易。
2.  **统一的流动性**：将会有一个单一的流动资产池，同时在所有可用链之间共享。同时，这也是不存在无常损失的单边池。这大大提高了所有锁定流动资产的资金效率。
3.  **即时的最终性保证**: 目标链上的应用程序肯定知道已提交的交易将在源链上解析。这克服了由于目标链缺乏流动性而导致交易反转的关键问题。

实施任何跨链集成都可能非常耗时且技术复杂。此外，对于任何应用程序来说，最大的风险是欺诈性的跨链消息会耗尽它们的所有流动性。这些阻碍了许多协议实现任何跨链集成。LayerZero 通过简化集成来解决这些问题，无需更改现有协议，也不会对协议自身的流动资金池造成风险。所有风险完全由 Stargate 承担。

可以将 Stargate 想象成资产跨链桥一开始的样子。

总结
==========

总之，随着我们向多链多层领域稳步迈进，我们相信 LayerZero 的跨链架构将成为其中的核心，成为推动真正无需许可和无需信任的全链未来的关键基础设施层。

**_免责声明：_**_本网站所发布的信息以及所表达的意见仅为提供参考信息之目的，因此任何人不得将任何此类信息或其他材料解读为在法律、税务、投资、金融或其他方面的建议。本网站中所包含的信息均不构成 Sino 或任何第三方服务提供商在本司法管辖区或任何其他司法管辖区买卖任何证券或其他金融工具的招揽、推荐、背书或要约，而根据此类司法管辖区的证券法，此类招揽或要约是违法的。_
